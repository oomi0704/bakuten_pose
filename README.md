# 画面遷移図 Figma
[バク転画面遷移図](https://www.figma.com/design/EwCDzFqidxN7S3WTJaa1lw/%E3%83%90%E3%82%AF%E8%BB%A2?node-id=13-16&t=KYHfKhi21gLvtdnH-1)

# ER図
[ER図](https://app.diagrams.net/#G1b6PhNTUM-Krmio0lYXdcui8XN--AaFOL#%7B%22pageId%22%3A%22R2lEEEUBdFMjLlhIrx00%22%7D)

# サービス概要
バク転のフォームを解析し、改善案を提供するアプリケーション。ユーザーがバク転の画像を登録すると、フォームを採点し、改善案や練習方法、筋トレ方法を提案するWebアプリです。

# 技術スタック
- **バックエンド**: Ruby on Rails 7.1.5
- **データベース**: PostgreSQL
- **フロントエンド**: Tailwind CSS, Stimulus (Hotwire)
- **画像処理**: CarrierWave + MiniMagick (WebP変換)
- **AI姿勢解析**: MediaPipe Pose (TensorFlow.js)
- **認証**: Sorcery
- **デプロイ**: Render


# サービスへの思い・作りたい理由
10年以上にわたるバク転・アクロバットのインストラクター経験を活かし、インストラクター活動の集大成として、これまでの知識を一つのアプリケーションにまとめてリリースしたいと考えています。対面での個別指導には限界があるため、Webアプリケーション化することで、より多くの人々に知識を届けることができると考えました。

# ユーザー層について
- **対象**: バク転練習を始めたての10代〜60代
- **理由**: アクロバットインストラクターとしての経験から、この年齢層のニーズを深く理解しています
- **特徴**: 初心者を対象とし、技術指導だけでなく、膝の曲具合や飛び出し角度など具体的な数値を提供し、ユーザーに分かりやすく伝える。

# サービスの利用イメージ
- ユーザーが自身のバク転の課題を具体的に理解できる
- 採点システムにより練習のモチベーションを維持できる
- 個人に適した練習方法を知ることができる

# ユーザー獲得について
- 既存の生徒への利用促進
- アクロバットスタジオのホームページでの告知
- SNSを活用した認知度向上

# サービスの差別化ポイント・推しポイント
- 既存の体操競技AI採点システムは高額な機器と技術が必要
- 本サービスはスマートフォンで撮影した映像で分析が可能
- バク転練習者であれば誰でも気軽に利用可能

# 実装済み機能
- バク転の静止画3タイプの解析
  - 立ちポーズ（踏切前の姿勢）
  - 空中ポーズ（空中での姿勢）
  - 着手ポーズ（着手時の姿勢）
- MediaPipe Poseを使用したブラウザ上でのリアルタイム姿勢分析
- 投稿機能（ユーザーごとに複数の投稿が可能）
- 画像のWebP自動変換（CarrierWave使用）
- 管理画面（投稿・ユーザー管理）

# 今後の実装予定
- 動画解析機能の追加
- AIによる自動採点機能
- 個別化された練習方法の提案機能
- カスタマイズされた筋トレメニューの提供

# 機能の実装方針

## 現在の実装
- **MediaPipe Pose**を使用して、ブラウザ上でバク転の姿勢を解析
- JavaScriptによるクライアントサイドでのリアルタイム骨格検出
- 3つのポーズ（立ち、空中、着手）の画像から関節位置を取得
- 画像アップロードとWebP形式への自動変換

## 今後の実装予定
- 教師あり学習でバク転のAI学習モデルを作成
  - 見本のバク転データ
  - 失敗のバク転データ（自身の経験をもとに各失敗の原因別にまとめる）
- 検出した関節位置データから膝の曲がり角度や飛び出し角度など具体的な数値を算出
- 数値データを元に改善案を自動生成して提示

## 例(踏切前の姿勢)
- 膝と腰の位置を検知
- 飛び出し姿勢が見本より深くしゃがんでいる
- 見本よりも飛び出し角度が上に飛んでいる
- 飛び出し時に膝の位置が見本よりも前に出ている
- 飛び出す前に重心が見本よりも後ろに移動しすぎている

## 改善案
- しゃがむ姿勢は90より深くしゃがみません、あなたの膝の角度〇〇度です。
- 踵重心になっているので、つま先から押し出すようにジャンプしましょう。
- バク転の飛び出し方向はおおよそ45度前後、あなたの飛び出し角度は〇〇度です。
- 腕を振りが遅れており、飛び出し角度が上に飛んでしまうので、腕を振るタイミングを早めてみましょう。
- 飛び出す前に膝が⚪︎⚪︎cm前に出でしまっています。
- 飛び出す前に少し重心を後ろに下げてから飛び出しましょう。膝の前に障害物を置いて当たらないように練習すると効果的です。
- 飛び出す前に重心が⚪︎⚪︎cm後ろにあります。
- 膝を曲げてから飛ぶまでの時間が長いので、膝を曲げてから飛ぶまでのタイミングを早めてみましょう。

# 参考サイト
- [【個人開発】AI技術を用いたジョジョ立ち検定サービスをリリースしましたッ！](https://qiita.com/yamamoto-kohei1111/items/3a966b28f53f76aec7f9)